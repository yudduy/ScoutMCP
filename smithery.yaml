# Smithery configuration file
# https://smithery.ai/docs/config#smitheryyaml

startCommand:
  type: stdio
  configSchema:
    type: object
    properties:
      sse:
        type: boolean
        default: false
        description: If true, run the server in SSE mode instead of default stdio mode.
      port:
        type: number
        default: 3000
        description: Port to listen on when running in SSE mode.
      endpoint:
        type: string
        default: /sse
        description: Endpoint path for SSE connections.
      host:
        type: string
        default: localhost
        description: Host to bind to when running in SSE mode.
  commandFunction: |
    (config) => {
      const args = [];
      if(config.sse) {
        args.push('--sse');
        if(config.port) {
          args.push('--port', config.port.toString());
        }
        if(config.endpoint) {
          args.push('--endpoint', config.endpoint);
        }
        if(config.host) {
          args.push('--host', config.host);
        }
      }
      return { command: 'node', args: ['dist/index.js', ...args] };
    }
  exampleConfig:
    sse: true
    port: 3000
    endpoint: /sse
    host: 0.0.0.0
